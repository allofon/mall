<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  
  <title>Mall</title>
  
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
:root {
  --bg-main: #0f172a;
  --bg-card: #1e293b;
  --bg-subtle: #334155;
  --border-soft: #475569;
  --accent: #38bdf8;
  --accent-soft: #7dd3fc;
  --text-main: #e5e7eb;
  --text-muted: #94a3b8;
}
html {
  font-size: 17px;
}
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
      background-color: var(--bg-main);
      color: var(--text-main);
      margin: 0;
      padding: 5rem 1rem 1.5rem;
      line-height: 1.45;
      display: flex;
      justify-content: center;
    }

    h1 {
      font-size: 1.7rem;
      font-weight: 650;
      margin-bottom: 2.5rem;
      color: #ffffff;
      text-align: center;
    }

    h2 {
      font-size: 1.55rem;
      font-weight: 650;
      margin-top: 0;
      margin-bottom: 1.2rem;
      color: #1e3a8a;
      position: relative;
      left: -1.4rem;
      text-transform: uppercase;
      letter-spacing: 0.06em;
    }

    h3 {
      font-size: 1.05rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: #1e40af;
    }

    section {
      background: #CDF2F7;
      border: 1px solid #E9F5F0;
      border-left: 5px solid #E9F5F0;
      border-radius: 8px;
      padding: 1.4rem 3rem 1.8rem 2.4rem; /* mer luft till hÃ¶ger */
      margin-bottom: 1.8rem;
    }

section:hover {
  background-color: #D2F5FA;
  box-shadow: 0 6px 18px rgba(37, 99, 235, 0.12);
}

    .form-row {
      display: grid;
      grid-template-columns: 220px 1fr;
      align-items: center;
      column-gap: 1rem;
      margin-bottom: 0.75rem;
    }

    @media (max-width: 720px) {
      .form-row {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 720px) {
      .form-row {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 720px) {
      .form-row {
        grid-template-columns: 1fr;
        align-items: stretch;
      }
    }

    fieldset {
      border: 1px solid #D1E7E8;
      border-left: 4px solid #2C3D6E;
      border-radius: 6px;
      padding: 1.1rem 2.2rem 1.6rem 1.8rem; /* mer hÃ¶ger-padding */
      margin-top: 0.8rem;
      margin-bottom: 1.2rem;
      background-color: #C0E9F0;
    }

    legend {
      padding: 0 0.6rem;
      font-weight: 700;
      font-size: 0.7rem;
      color: #1e3a8a;
      letter-spacing: 0.1em;
      text-transform: uppercase;
    }

    label {
      margin-bottom: 0.2rem;

      font-size: 0.8rem;
      font-weight: 700;
      color: #111827;
      text-align: right;
      padding-right: 0.5rem;
      white-space: nowrap;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    input[type="text"] {
      width: 100%;
      max-width: 460px; /* nÃ¥got smalare fÃ¶r mer luft */ /* nÃ¥got kortare inputs globalt */
      padding: 0.45rem 0.6rem;
      border: 1px solid #9ca3af;
      border-radius: 6px;
      font-size: 0.85rem;
      background-color: #ffffff;
    }

    fieldset input[type="text"] {
      max-width: 420px;
    } {
      width: 100%;
      max-width: 540px;
      padding: 0.45rem 0.6rem;
      border: 1px solid #9ca3af;
      border-radius: 6px;
      font-size: 0.85rem;
      background-color: #ffffff;
    }

    fieldset input[type="text"] {
      max-width: 420px; /* kortare inputs i trÃ¤dboxar */
    } {
      width: 100%;
      max-width: 540px;
      padding: 0.45rem 0.6rem;
      border: 1px solid #9ca3af;
      border-radius: 6px;
      font-size: 0.85rem;
      background-color: #ffffff;
    }

    input[type="text"]:focus {
      outline: none;
      border-color: #2563eb;
      box-shadow: 0 0 0 1px #2563eb;
    }

    .agent-container .agent-block {
      border: 1px solid #d1d5db;
      border-left: 5px solid #2C3D6E;
      border-radius: 8px;
      padding: 1.2rem 2rem 1.6rem 2.4rem;
      margin-bottom: 1.6rem;
      background: linear-gradient(180deg, #E9F5F5 20%, #C0E9F0 80%);
    }

button {
  background-color: var(--accent);
  color: #ffffff;
  border: none;
  border-radius: 999px;
  padding: 0.45rem 1rem;
  font-size: 0.85rem;
  cursor: pointer;
}

.action-btn {
  box-shadow: 0 4px 10px rgba(59, 130, 246, 0.25);
}

.action-btn.danger {
  background-color: #dc2626;
  box-shadow: 0 4px 10px rgba(220, 38, 38, 0.25);
}


    button:hover { background-color: #2563eb; }
    button:active { transform: translateY(1px); }

    .app-container { width: 100%; max-width: 820px; }
    
    .section-summary {
  font-size: 0.75rem;
  font-weight: 600;
  color: #374151;
  background: #f1f5f9;
  border-left: 3px solid #93c5fd;
  padding: 0.35rem 0.6rem;
  margin-bottom: 1rem;
  border-radius: 4px;
}

#reviewModal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.4);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 999;
}

#reviewContent {
  background: #fff;
  padding: 1.5rem 2rem;
  max-width: 700px;
  max-height: 80vh;
  overflow-y: auto;
  border-radius: 10px;
  box-shadow: 0 10px 40px rgba(0,0,0,0.2);
  font-size: 0.85rem;
}

#reviewContent h4 {
  margin-top: 1.2rem;
  color: #1e3a8a;
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

#reviewModal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.45);
  display: none; /* VIKTIGT */
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

#reviewModal.open {
  display: flex;
}

#reviewContent {
  background: #ffffff;
  padding: 1.6rem 2rem;
  max-width: 720px;
  width: 90%;
  max-height: 80vh;
  overflow-y: auto;
  border-radius: 10px;
  box-shadow: 0 20px 50px rgba(0,0,0,0.25);
  font-size: 0.85rem;
}

#reviewContent h4 {
  margin-top: 1.4rem;
  margin-bottom: 0.4rem;
  color: #1e3a8a;
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

#reviewBtn {
  background: linear-gradient(180deg, #2563eb, #1e40af);
  color: #ffffff;
  border: none;
  border-radius: 10px;
  padding: 0.6rem 1.4rem;
  font-size: 0.9rem;
  font-weight: 600;
  letter-spacing: 0.04em;
  cursor: pointer;
  box-shadow: 0 6px 18px rgba(37, 99, 235, 0.35);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}




#reviewSection {
  margin-top: 2.5rem;
  background: #f8fbff;
  border: 1px solid #bfdbfe;
  border-left: 6px solid #2563eb;
  border-radius: 12px;
  padding: 1.6rem 2.2rem 2rem 2.2rem;
  box-shadow: 0 12px 30px rgba(37, 99, 235, 0.15);
}

#reviewSection h2 {
  color: #1e3a8a;
  margin-bottom: 1.6rem;
  text-align: center;
}

#reviewSection h3 {
  margin-top: 1.4rem;
  margin-bottom: 0.5rem;
  font-size: 0.85rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: #1e40af;
}

#reviewSection div > div {
  padding-left: 0.6rem;
  margin-bottom: 0.25rem;
  font-size: 1.1rem;
}

#reviewSection strong {
  color: #111827;
}

#reviewSection {
  background: #F0E8E6;
  color: #0f172a; /* mÃ¶rk blÃ¥grÃ¥, lÃ¤ttlÃ¤st */
  border: 1px dashed #F0E8E6;
  border-radius: 8px;
  padding: 1.4rem 2rem;
  font-family: ui-monospace, SFMono-Regular, Menlo, monospace;
  font-size: 1.6rem;
}

.review-actions {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 2.5rem;
}

.action-btn {
  background-color: var(--accent);
  color: #ffffff;
  border: none;
  border-radius: 999px;
  padding: 0.45rem 1rem;
  font-size: 0.85rem;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(59,130,246,0.25);
}

.action-btn.danger {
  background-color: #dc2626;
  box-shadow: 0 4px 10px rgba(220,38,38,0.25);
}


/* Bas â€“ exakt samma stil som dina andra knappar */
.action-btn {
  background-color: var(--accent);
  color: #ffffff;
  border: none;
  border-radius: 999px;
  padding: 0.45rem 1rem;
  font-size: 0.85rem;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(59, 130, 246, 0.25);
}

/* Hover */
.action-btn:hover {
  filter: brightness(0.95);
}

/* ðŸ”´ RÃ–D variant */
.action-btn.danger {
  background-color: #dc2626;
  box-shadow: 0 4px 10px rgba(220, 38, 38, 0.25);
}
.action-btn {
  background: linear-gradient(180deg, #2563eb, #1e40af);
  color: #ffffff;
  border: none;
  border-radius: 10px;
  padding: 0.6rem 1.4rem;
  font-size: 0.9rem;
  font-weight: 600;
  letter-spacing: 0.04em;
  cursor: pointer;
  box-shadow: 0 6px 18px rgba(37, 99, 235, 0.35);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.action-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 10px 26px rgba(37, 99, 235, 0.45);
}

.action-btn:active {
  transform: translateY(0);
  box-shadow: 0 4px 10px rgba(37, 99, 235, 0.3);
}

.action-btn.danger {
  background: linear-gradient(180deg, #dc2626, #991b1b);
  box-shadow: 0 6px 18px rgba(220, 38, 38, 0.35);
}

.action-btn.danger:hover {
  box-shadow: 0 10px 26px rgba(220, 38, 38, 0.45);
}

@media (max-width: 720px) {
  .form-row {
    grid-template-columns: 1fr;
    gap: 0.3rem;
  }

  label {
    text-align: left;
    padding-right: 0;
    font-size: 0.7rem;
  }

  input[type="text"] {
    max-width: 100%;
    font-size: 1rem;
    padding: 0.6rem 0.7rem;
  }
}

@media (max-width: 720px) {
  section {
    padding: 1.2rem 1.2rem 1.4rem 1.2rem;
  }

  h2 {
    left: 0;
    text-align: left;
  }
}

@media (max-width: 600px) {
  .review-actions {
    flex-direction: column;
    gap: 0.75rem;
  }

  .action-btn {
    width: 100%;
    font-size: 0.95rem;
    padding: 0.65rem 1rem;
  }
}

input[type="text"]:focus {
  outline: none;
  border-color: #2563eb;
  box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.25);
}

.remove-agent-btn {
  background: #4D9E96;
  color: #FAF7F7;
  border: 1px solid #fecaca;
  border-radius: 6px;
  padding: 0.25rem 0.55rem;
  font-size: 0.8rem;
  font-weight: 600;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  cursor: pointer;
  box-shadow: none;
}

.remove-agent-btn:hover {
  background-color: #A3D9D4;
}

.remove-agent-btn:active {
  transform: translateY(1px);
}
#resetBtn {
  background: linear-gradient(180deg, #475569, #334155);
  box-shadow: 0 6px 18px rgba(15, 23, 42, 0.4);
}

#resetBtn:hover {
  box-shadow: 0 10px 26px rgba(15, 23, 42, 0.55);
}

/* Relationer i VERK */
section:has(> h2:contains("Verk")) fieldset {
  background-color: #C0E9F0;
  border-left: 4px solid var(--accent);
}

/* Relationer i UTTRYCK */
section:has(> h2:contains("Uttryck")) fieldset {
  background-color: #C0E9F0;
  border-left: 4px solid var(--accent);
}

/* Relationer i SERIE */
section:has(> h2:contains("Serie")) fieldset {
  background-color: #C0E9F0;
  border-left: 4px solid var(--accent);
}
/* Endast relationsrutor i Verk */
section.verk fieldset.relations {
  background: linear-gradient(180deg, #E9F5F5 20%, #C0E9F0 80%);
  border-left: 4px solid #2C3D6E;
}
/* Endast relationsrutor i Uttryck */
section.uttryck fieldset.relations {
  background: linear-gradient(180deg, #E9F5F5 20%, #C0E9F0 80%);

  border-left: 4px solid #2C3D6E;
}

/* Endast relationsrutor i Serie */
section.serie fieldset.relations {
  background-color: #C0E9F0;
  border-left: 4px solid #2C3D6E;
}

/* Relationer i VERK */
section.verk > fieldset.relations {
  background-color: #D8EAEB;
  border-left: 4px solid #2C3D6E;
}

/* Relationer i UTTRYCK */
section.uttryck > fieldset.relations {
  background-color: #D8EAEB;
  border-left: 4px solid #2C3D6E;
}

/* Relationer i SERIE */
section.serie > fieldset.relations {
  background-color: #C0E9F0;
  border-left: 4px solid #2C3D6E;
}
#addAgentBtn {
  background: linear-gradient(180deg, #4D9E96, #2F7F78);
  color: #ffffff;
  box-shadow: 0 6px 18px rgba(77, 158, 150, 0.35);
}


/* === Firefox-lik toppmeny, isolerad === */

/* === TOP BAR === */

.ff-topbar {
  position: fixed;
  top: 0.75rem;
  left: 50%;
  transform: translateX(-50%);
  z-index: 3000;

  background: #020617;
  border: 1px solid #334155;
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.45);

  font-family: "JetBrains Mono", monospace;
  font-size: 0.95rem;
  color: #e5e7eb;
}

/* === MENU RESET === */

.ff-menu,
.ff-menu ul {
  list-style: none;
  margin: 0;
  padding: 0;
}

/* === TOP LEVEL MENU === */

.ff-menu {
  display: flex;
  gap: 0.4rem;
  padding: 0.4rem;
}

.ff-menu > li {
  position: relative;
  padding: 0.6rem 1.1rem;

  color: inherit;
  font-weight: 500;
  cursor: default;

  border-radius: 8px;
  transition: background 0.15s ease, color 0.15s ease;
}

.ff-menu > li:hover {
  background: #1e293b;
  color: #ffffff;
}

/* caret */
.ff-menu > li::after {
  content: " â–¾";
  font-size: 0.65em;
  opacity: 0.6;
}

/* === SUBMENUS === */

.ff-submenu {
  position: absolute;
  top: 100%;            /* INGEN GLIPA */
  left: 0;

  min-width: 220px;
  padding: 0.35rem;

  background: #020617;
  border: 1px solid #334155;
  border-radius: 10px;
  box-shadow: 0 15px 40px rgba(0,0,0,0.6);

  display: none;
}

.ff-menu li:hover > .ff-submenu {
  display: block;
}

/* === SUBMENU ITEMS === */

.ff-submenu li {
  padding: 0.6rem 0.8rem;
  border-radius: 6px;
  white-space: nowrap;

  color: #e5e7eb;
  font-size: 0.9rem;

  transition: background 0.12s ease, color 0.12s ease;
}

.ff-submenu li:hover {
  background: #1e293b;
  color: #ffffff;
}

/* === LINKS SHOULD NOT LOOK LIKE LINKS === */

.ff-submenu a,
.ff-submenu a:visited {
  color: inherit;
  text-decoration: none;
  display: block;
}

/* === NESTED SUBMENUS (RIGHT) === */

.ff-submenu.right {
  top: 0;
  left: 100%;
}

/* arrow for nested */
.ff-submenu > li:has(.ff-submenu)::after {
  content: " â–¸";
  float: right;
  opacity: 0.6;
}

/* === ACCESSIBILITY === */

.ff-menu > li:focus-visible {
  outline: none;
  box-shadow: inset 0 0 0 2px #38bdf8;
}

.ff-topbar { background: #0f172a; }

.ff-submenu li { font-weight: 400; }


.u {
  text-decoration: underline;
  text-underline-offset: 3px;
}
.u {
  text-decoration: underline;
  text-decoration-thickness: 1.5px;
  text-underline-offset: 3px;
  text-decoration-color: rgba(255,255,255,0.7);
}


  </style>
</head>
<body>
<nav class="ff-topbar">
  <ul class="ff-menu">
<li>
  Relationer
  <ul class="ff-submenu">

    <li>
      Manifestation
      <ul class="ff-submenu right">
        <li>â€“ <span class="u">gestaltar</span> VerkX</li>
        <li>â€“ <span class="u">gestaltar</span> UttryckX</li>
        <li>â€“ <span class="u">gestaltar</span> SerieX</li>
      </ul>
    </li>

    <li>
      Agent
      <ul class="ff-submenu right">
        <li>â€“ <span class="u">Ã¤r skapare av</span> VerkX</li>
        <li>â€“ <span class="u">Ã¤r bidragsgivare till</span> UttryckX</li>
      </ul>
    </li>

    <li>
      Verk
      <ul class="ff-submenu right">
        <li>â€“ <span class="u">Ã¤r skapat av</span> AgentX</li>
        <li>â€“ <span class="u">fÃ¶rverkligas av</span> UttryckX</li>
        <li>â€“ <span class="u">ingÃ¥r i</span> SerieX</li>
        <li>â€“ <span class="u">gestaltas av</span> ManifestationX</li>
      </ul>
    </li>

    <li>
      Uttryck
      <ul class="ff-submenu right">
        <li>â€“ <span class="u">Ã¤r bidraget av</span> AgentX</li>
        <li>â€“ <span class="u">fÃ¶rverkligar</span> VerkX</li>
        <li>â€“ <span class="u">gestaltas av</span> ManifestationX</li>
      </ul>
    </li>

    <li>
      Serie
      <ul class="ff-submenu right">
        <li>â€“ <span class="u">inkluderar</span> ManifestationX</li>
      </ul>
    </li>
  </ul>

  
</li>
    <li>
      LÃ¤nkar
      <ul class="ff-submenu">
        <li>
          <a href="   https://metadatabyran.kb.se" target="_blank">MDB</a>
        </li>
        <li>
          <a href="https://viaf.org/en" target="_blank">VIAF</a>
        </li>
        <li>
          <a href="https://libris.kb.se/katalogisering/" target="_blank">Libris</a>
        </li>
        <li>
          <a href="https://www.rdaregistry.info" target="_blank">RDA Registry</a>
        </li>
      </ul>
    </li>
       
       <li>
      Listor
      <ul class="ff-submenu">
        <li>
          <a href="https://metadatabyran.kb.se/generella-anvisningar---rda/manifestation-instans/egenskaper-som-beskriver-en-manifestation/medietyp?searchTerm=Medietyp#h-Listamedietyper" target="_blank">Medietyper</a>
        </li>
        <li>
          <a href="https://metadatabyran.kb.se/generella-anvisningar---rda/manifestation-instans/egenskaper-som-beskriver-en-manifestation/barartyp?searchTerm=B%C3%A4rartyp#h-Listabarartyper" target="_blank">BÃ¤rartyper</a>
        </li>
         <li>
          <a href="https://id.kb.se/find?q=role&_limit=200&and-%40type=Role&_sort=_sortKeyByLang.sv" target="_blank">Relationsbeteckningar</a>
        </li>	
      </ul>
    </li>
  </ul>
  </li>
  
  
  
  
</nav>







<main class="app-container">

<h1>Beskrivningsmall fÃ¶r tryckt monografisk resurs</h1>

<section>
  <h2>Manifestation</h2>

  <div class="form-row">
    <label for="mediaType">Medietyp</label>
    <input id="mediaType" type="text">
  </div>

  <div class="form-row">
    <label for="carrierType">BÃ¤rartyp</label>
    <input id="carrierType" type="text">
  </div>

  <fieldset>
    <legend>Titel</legend>
    <div class="form-row">
      <label for="mainTitle">Huvudtitel</label>
      <input id="mainTitle" type="text">
    </div>
    <div class="form-row">
      <label for="otherTitle">Ã–vrig titelinformation</label>
      <input id="otherTitle" type="text">
    </div>
  </fieldset>

  <div class="form-row">
    <label for="statement">Upphovsuppgift</label>
    <input id="statement" type="text">
  </div>

  <div class="form-row">
    <label for="edition">Upplageuppgift</label>
    <input id="edition" type="text">
  </div>

  <fieldset>
    <legend>Utgivning</legend>
    <div class="form-row">
      <label for="place">Utgivningsort</label>
      <input id="place" type="text">
    </div>
    <div class="form-row">
      <label for="publisher">Utgivarnamn</label>
      <input id="publisher" type="text">
    </div>
    <div class="form-row">
      <label for="year">Utgivningstid</label>
      <input id="year" type="text">
    </div>
  </fieldset>

  <div class="form-row"><label for="manufacture">Tillverkningstid</label><input id="manufacture" type="text"></div>
  <div class="form-row"><label for="copyright">CopyrightÃ¥r</label><input id="copyright" type="text"></div>
  <div class="form-row"><label for="seriesNumber">Numrering inom serien</label><input id="seriesNumber" type="text"></div>
  <div class="form-row"><label for="issn">ISSN</label><input id="issn" type="text"></div>
  <div class="form-row"><label for="manifestationId">ID fÃ¶r manifestation</label><input id="manifestationId" type="text"></div>
  <div class="form-row"><label for="extent">OmfÃ¥ng</label><input id="extent" type="text"></div>

  <fieldset>
    <legend>Relationer</legend>
    <div class="form-row"><label for="relWork">Till verk</label><input id="relWork" type="text"></div>
    <div class="form-row"><label for="relExpression">Till uttryck</label><input id="relExpression" type="text"></div>
    <div class="form-row"><label for="relSeries">Till serie</label><input id="relSeries" type="text"></div>
  </fieldset>
</section>

<section>
  <h2>Agent</h2>
  <div class="agent-container">
    <div class="agent-block" data-agent="1">
      <h3>Agent 1</h3>
      <div class="form-row"><label>FÃ¶redraget namn</label><input type="text"></div>
      <div class="form-row"><label>FÃ¶delse-/dÃ¶dstid</label><input type="text"></div>
      <div class="form-row"><label>ID</label><input type="text"></div>
      <fieldset>
        <legend>Relationer</legend>
        <div class="form-row"><label>Till verk</label><input type="text"></div>
        <div class="form-row"><label>Till uttryck</label><input type="text"></div>
      </fieldset>
    </div>
  </div>
  <button type="button" id="addAgentBtn"><strong>LÃ¤gg till agent</strong></button>
</section>

<section class="verk">
  <h2>Verk</h2>
  <div class="form-row"><label for="workTitle">FÃ¶redragen titel</label><input id="workTitle" type="text"></div>
  <div class="form-row"><label for="audience">MÃ¥lgrupp</label><input id="audience" type="text"></div>
  <div class="form-row"><label for="workId">ID</label><input id="workId" type="text"></div>
  <fieldset class="relations">
    <legend>Relationer</legend>
    <fieldset>
      <legend>Huvudskapare</legend>
      <div class="form-row">
        <label>RELATION TILL HUVUDSK.</label>
        <input type="text"  />
      </div>
      <div class="form-row">
        <label>HUVUDSKAPARENS ROLL</label>
        <input type="text" />
      </div>
    </fieldset>
    <fieldset>
      <legend>Medskapare</legend>
      <div class="form-row">
        <label>RELATION TILL MEDSK.</label>
        <input type="text"  />
      </div>
      <div class="form-row">
        <label>MEDSKAPARENS ROLL</label>
        <input type="text" />
      </div>
    </fieldset>
    <div class="form-row"><label for="workToExpression">Till uttryck</label><input id="workToExpression" type="text"></div>
    <div class="form-row"><label for="workToManifestation">Till manifestation</label><input id="workToManifestation" type="text"></div>
  </fieldset>
</section>

<section class="uttryck">
  <h2>Uttryck</h2>
  <div class="form-row"><label for="contentType">InnehÃ¥llstyp</label><input id="contentType" type="text"></div>
  <div class="form-row"><label for="language">SprÃ¥k</label><input id="language" type="text"></div>
  <div class="form-row"><label for="expressionId">ID</label><input id="expressionId" type="text"></div>
  <fieldset class="relations">
    <legend>Relationer</legend>
    <fieldset>
      <legend>Bidragsgivare</legend>
      <div class="form-row">
        <label>RELATION TILL BIDRAGSG.</label>
        <input type="text"  />
      </div>
      <div class="form-row">
        <label>BIDRAGSGIVARENS ROLL</label>
        <input type="text" />
      </div>
    </fieldset>
    <div class="form-row"><label for="exprToWork">Till verk</label><input id="exprToWork" type="text"></div>
    <div class="form-row"><label for="exprToManifestation">Till manifestation</label><input id="exprToManifestation" type="text"></div>
  </fieldset>
</section>

<section class="relations">
  <h2>Serie</h2>
  <div class="form-row"><label for="seriesTitle">Huvudtitel</label><input id="seriesTitle" type="text"></div>
  <div class="form-row"><label for="seriesId">ID / ISSN</label><input id="seriesId" type="text"></div>
  <fieldset>
    <legend>Relationer</legend>
    <div class="form-row"><label for="seriesToManifestation">Till manifestation</label><input id="seriesToManifestation" type="text"></div>
  </fieldset>
</section>

<script>
let agentCount = 1;
const agentContainer = document.querySelector(".agent-container");
const addAgentBtn = document.getElementById("addAgentBtn");

function updateAgentNumbers() {
  const agents = document.querySelectorAll(".agent-block");
  agents.forEach((agent, index) => {
    agent.dataset.agent = index + 1;

    const title = agent.querySelector("h3 span");
    if (title) {
      title.textContent = `Agent ${index + 1}`;
    }
  });

  agentCount = agents.length;
}

function createAgentBlock(number) {
  const div = document.createElement("div");
  div.className = "agent-block";
  div.dataset.agent = number;

  div.innerHTML = `
    <h3 style="display:flex; justify-content:space-between; align-items:center;">
      <span>Agent ${number}</span>
      <button type="button" class="action-btn remove-agent-btn">
        Ta bort
      </button>
    </h3>

    <div class="form-row"><label>FÃ¶redraget namn</label><input type="text"></div>
    <div class="form-row"><label>FÃ¶delse-/dÃ¶dstid</label><input type="text"></div>
    <div class="form-row"><label>ID</label><input type="text"></div>

    <fieldset>
      <legend>Relationer</legend>
      <div class="form-row"><label>Till verk</label><input type="text"></div>
      <div class="form-row"><label>Till uttryck</label><input type="text"></div>
    </fieldset>
  `;

  div.querySelector(".remove-agent-btn").addEventListener("click", () => {
    div.remove();
    updateAgentNumbers();
  });

  return div;
}

addAgentBtn.addEventListener("click", () => {
  agentCount++;
  const newAgent = createAgentBlock(agentCount);
  agentContainer.appendChild(newAgent);
});


function toggleMenu(button, menu) {
  const rect = button.getBoundingClientRect();

  menu.style.top = rect.bottom + "px";
  menu.style.left = rect.left + "px";

  menu.style.display =
    menu.style.display === "block" ? "none" : "block";
}

// Relationer
openBtn.addEventListener("click", e => {
  e.stopPropagation();
  toggleMenu(openBtn, level1);
  level2.style.display = "none";
});

// LÃ¤nkar
const openLinks = document.getElementById("openLinks");
const linksMenu = document.getElementById("menu-links");

openLinks.addEventListener("click", e => {
  e.stopPropagation();
  toggleMenu(openLinks, linksMenu);
});




</script>

<script>
  window.addEventListener("load", () => {
    document.querySelectorAll("input, textarea").forEach(el => {
      el.value = "";
    });
  });
</script>


<div class="review-actions">
  <button id="reviewBtn" class="action-btn">
    Granska ifyllda uppgifter
  </button>

  <button id="resetBtn" class="action-btn danger">
    Ã…terstÃ¤ll alla fÃ¤lt
  </button>
</div>

<!-- Allt detta ska ligga EFTER knapparna -->
<pre id="reviewOutput" style="display:none;"></pre>

<section id="reviewSection" style="display:none;">
  <h2>Granskning av ifyllda uppgifter</h2>
  <div id="reviewContent"></div>
</section>

<script>
document.getElementById("reviewBtn").addEventListener("click", () => {

  const reviewSection = document.getElementById("reviewSection");
  const reviewContent = document.getElementById("reviewContent");

  reviewContent.innerHTML = "";
  let hasContent = false;

  document.querySelectorAll("section").forEach(section => {

    // hoppa Ã¶ver granskningsrutan sjÃ¤lv
    if (section.id === "reviewSection") return;

    const titleEl = section.querySelector("h2");
    if (!titleEl) return;

    let sectionRows = "";

    section.querySelectorAll("input[type='text']").forEach(input => {
      if (input.value.trim() === "") return;

      hasContent = true;

      let labelText = "FÃ¤lt utan etikett";

      const row = input.closest(".form-row");
      if (row) {
        const lbl = row.querySelector("label");
        if (lbl) labelText = lbl.textContent.trim();
      }

      sectionRows += `<div><strong>${labelText}:</strong> ${input.value}</div>`;
    });

    if (sectionRows) {
      reviewContent.innerHTML += `
        <div style="margin-bottom:1.5rem;">
          <h3>${titleEl.textContent}</h3>
          ${sectionRows}
        </div>
      `;
    }
  });

  if (!hasContent) {
    reviewContent.innerHTML = "<em>Inga uppgifter ifyllda Ã¤nnu.</em>";
  }

  reviewSection.style.display = "block";
  reviewSection.scrollIntoView({ behavior: "smooth" });
});

document.getElementById("resetBtn").addEventListener("click", () => {
  

  document.querySelectorAll("input[type='text']").forEach(input => {
    input.value = "";
  });

  // DÃ¶lj granskningsrutan om den Ã¤r Ã¶ppen
  const reviewSection = document.getElementById("reviewSection");
  if (reviewSection) {
    reviewSection.style.display = "none";
  }
});

</script>

<script>
const openBtn = document.getElementById("openRelations");
const level1 = document.getElementById("menu-level-1");
const level2 = document.getElementById("menu-level-2");
level1.addEventListener("click", function (e) {
  e.stopPropagation();
});

level2.addEventListener("click", function (e) {
  e.stopPropagation();
});


openBtn.addEventListener("click", e => {
  e.stopPropagation();

  const rect = openBtn.getBoundingClientRect();

  level1.style.top = rect.bottom + "px";
  level1.style.left = rect.left + "px";

  level1.style.display =
    level1.style.display === "block" ? "none" : "block";

  level2.style.display = "none";
});

const data = {
  manifestation: ["- gestaltar VerkX", "- gestaltar UttryckX", "- Ã¤r en del av SerieX"],
  agent: ["- Ã¤r skapare av VerkX", "- Ã¤r bidragsgivare till UttryckX"],
  verk: ["- Ã¤r skapat av AgentX", "- fÃ¶rverkligas av UttryckX", "- ingÃ¥r i SerieX", "- gestaltas av ManifestationX"],
  uttryck: ["- Ã¤r bidraget av AgentX", "- fÃ¶rverkligar VerkX", "- gestaltas av ManifestationX"],
  serie: ["- inkluderar ManifestationX"],
};

const openLinks = document.getElementById("openLinks");
const linksMenu = document.getElementById("links-menu");

linksMenu.addEventListener("click", e => e.stopPropagation());

openLinks.addEventListener("click", e => {
  e.stopPropagation();
  linksMenu.style.display =
    linksMenu.style.display === "block" ? "none" : "block";
});


level1.querySelectorAll("button").forEach(btn => {
  btn.addEventListener("mouseenter", () => {
    const key = btn.dataset.open;
    level2.innerHTML = "";

    data[key].forEach(text => {
      const b = document.createElement("button");
      b.textContent = text;
      level2.appendChild(b);
    });

    btn.parentElement.appendChild(level2);
level2.style.display = "block";
  });
});

document.addEventListener("click", () => {
  level1.style.display = "none";
  level2.style.display = "none";
  linksMenu.style.display = "none";
});

</script>


</main>
</body>
</html>
